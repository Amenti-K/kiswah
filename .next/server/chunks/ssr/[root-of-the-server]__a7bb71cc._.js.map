{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Documents/kiswah%20front/kiswah/src/store/store.ts"],"sourcesContent":["// import { configureStore } from \"@reduxjs/toolkit\";\r\n// import authReducer from \"./slices/authSlice\";\r\n// import companyInfoReducer from \"./slices/companyInfoSlice\";\r\n\r\n// const store = configureStore({\r\n//   reducer: {\r\n//     auth: authReducer,\r\n//     companyInfo: companyInfoReducer,\r\n//   },\r\n// });\r\n\r\n// export type RootState = ReturnType<typeof store.getState>;\r\n// export type AppDispatch = typeof store.dispatch;\r\n// export default store;\r\n"],"names":[],"mappings":"AAAA,qDAAqD;AACrD,gDAAgD;AAChD,8DAA8D;AAE9D,iCAAiC;AACjC,eAAe;AACf,yBAAyB;AACzB,uCAAuC;AACvC,OAAO;AACP,MAAM;AAEN,6DAA6D;AAC7D,mDAAmD;AACnD,wBAAwB","debugId":null}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Documents/kiswah%20front/kiswah/src/store/slices/authSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport Cookies from \"js-cookie\";\r\n\r\ninterface Admin {\r\n  email: string;\r\n  role: string;\r\n  username: string;\r\n  firstName: string;\r\n  lastName: string;\r\n}\r\n\r\ninterface AuthState {\r\n  token: string | null;\r\n  admin: Admin | null;\r\n  isAuthenticated: boolean;\r\n}\r\n\r\nconst COOKIE_KEY = \"admin_auth\";\r\n\r\nconst loadFromCookie = (): AuthState => {\r\n  try {\r\n    const data = Cookies.get(COOKIE_KEY);\r\n    if (data) {\r\n      return JSON.parse(data);\r\n    }\r\n  } catch (err) {\r\n    console.error(\"Failed to parse auth cookie:\", err);\r\n  }\r\n  return { token: null, admin: null, isAuthenticated: false };\r\n};\r\n\r\nconst initialState: AuthState = loadFromCookie();\r\n\r\nconst authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState,\r\n  reducers: {\r\n    login(state, action: PayloadAction<{ token: string; admin: Admin }>) {\r\n      state.token = action.payload.token;\r\n      state.admin = action.payload.admin;\r\n      state.isAuthenticated = true;\r\n\r\n      Cookies.set(COOKIE_KEY, JSON.stringify(state), {\r\n        secure: true,\r\n        sameSite: \"strict\",\r\n        expires: 1,\r\n      });\r\n    },\r\n    logout(state) {\r\n      state.token = null;\r\n      state.admin = null;\r\n      state.isAuthenticated = false;\r\n\r\n      Cookies.remove(COOKIE_KEY);\r\n    },\r\n  },\r\n});\r\n\r\nexport const { login, logout } = authSlice.actions;\r\nexport default authSlice.reducer;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;AAgBA,MAAM,aAAa;AAEnB,MAAM,iBAAiB;IACrB,IAAI;QACF,MAAM,OAAO,8MAAA,CAAA,UAAO,CAAC,GAAG,CAAC;QACzB,IAAI,MAAM;YACR,OAAO,KAAK,KAAK,CAAC;QACpB;IACF,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,gCAAgC;IAChD;IACA,OAAO;QAAE,OAAO;QAAM,OAAO;QAAM,iBAAiB;IAAM;AAC5D;AAEA,MAAM,eAA0B;AAEhC,MAAM,YAAY,CAAA,GAAA,kSAAA,CAAA,cAAW,AAAD,EAAE;IAC5B,MAAM;IACN;IACA,UAAU;QACR,OAAM,KAAK,EAAE,MAAsD;YACjE,MAAM,KAAK,GAAG,OAAO,OAAO,CAAC,KAAK;YAClC,MAAM,KAAK,GAAG,OAAO,OAAO,CAAC,KAAK;YAClC,MAAM,eAAe,GAAG;YAExB,8MAAA,CAAA,UAAO,CAAC,GAAG,CAAC,YAAY,KAAK,SAAS,CAAC,QAAQ;gBAC7C,QAAQ;gBACR,UAAU;gBACV,SAAS;YACX;QACF;QACA,QAAO,KAAK;YACV,MAAM,KAAK,GAAG;YACd,MAAM,KAAK,GAAG;YACd,MAAM,eAAe,GAAG;YAExB,8MAAA,CAAA,UAAO,CAAC,MAAM,CAAC;QACjB;IACF;AACF;AAEO,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,UAAU,OAAO;uCACnC,UAAU,OAAO","debugId":null}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Documents/kiswah%20front/kiswah/src/lib/api.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport store from \"../store/store\";\r\nimport { logout } from \"../store/slices/authSlice\";\r\n\r\n// Base config for all requests\r\nconst BASE_URL = process.env.NEXT_PUBLIC_API_URL;\r\n\r\n// JSON instance (for public and admin)\r\nconst api = axios.create({\r\n  baseURL: BASE_URL,\r\n  timeout: 30000,\r\n  withCredentials: true,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n    Accept: \"application/json\",\r\n  },\r\n});\r\n\r\n// Multipart instance (for admin file uploads)\r\nexport const uploadApi = axios.create({\r\n  baseURL: BASE_URL,\r\n  timeout: 60000,\r\n  withCredentials: true,\r\n  headers: {\r\n    \"Content-Type\": \"multipart/form-data\",\r\n    Accept: \"application/json\",\r\n  },\r\n});\r\n\r\n// Attach token only for admin requests\r\nconst attachAdminInterceptor = (instance: typeof api) => {\r\n  instance.interceptors.request.use(\r\n    (config) => {\r\n      // Only attach token for /admin routes\r\n      if (config.url && config.url.startsWith(\"/api/admin\")) {\r\n        const token = store.getState().auth.token;\r\n        if (token) {\r\n          config.headers[\"Authorization\"] = `Bearer ${token}`;\r\n        }\r\n      }\r\n      return config;\r\n    },\r\n    (error) => Promise.reject(error)\r\n  );\r\n\r\n  instance.interceptors.response.use(\r\n    (response) => response,\r\n    (error) => {\r\n      if (error.response && error.response.status === 401) {\r\n        store.dispatch(logout());\r\n      }\r\n      return Promise.reject(error);\r\n    }\r\n  );\r\n};\r\n\r\nattachAdminInterceptor(api);\r\nattachAdminInterceptor(uploadApi);\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEA,+BAA+B;AAC/B,MAAM,WAAW,QAAQ,GAAG,CAAC,mBAAmB;AAEhD,uCAAuC;AACvC,MAAM,MAAM,wLAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;IACT,iBAAiB;IACjB,SAAS;QACP,gBAAgB;QAChB,QAAQ;IACV;AACF;AAGO,MAAM,YAAY,wLAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACpC,SAAS;IACT,SAAS;IACT,iBAAiB;IACjB,SAAS;QACP,gBAAgB;QAChB,QAAQ;IACV;AACF;AAEA,uCAAuC;AACvC,MAAM,yBAAyB,CAAC;IAC9B,SAAS,YAAY,CAAC,OAAO,CAAC,GAAG,CAC/B,CAAC;QACC,sCAAsC;QACtC,IAAI,OAAO,GAAG,IAAI,OAAO,GAAG,CAAC,UAAU,CAAC,eAAe;YACrD,MAAM,QAAQ,qHAAA,CAAA,UAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK;YACzC,IAAI,OAAO;gBACT,OAAO,OAAO,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;YACrD;QACF;QACA,OAAO;IACT,GACA,CAAC,QAAU,QAAQ,MAAM,CAAC;IAG5B,SAAS,YAAY,CAAC,QAAQ,CAAC,GAAG,CAChC,CAAC,WAAa,UACd,CAAC;QACC,IAAI,MAAM,QAAQ,IAAI,MAAM,QAAQ,CAAC,MAAM,KAAK,KAAK;YACnD,qHAAA,CAAA,UAAK,CAAC,QAAQ,CAAC,CAAA,GAAA,mIAAA,CAAA,SAAM,AAAD;QACtB;QACA,OAAO,QAAQ,MAAM,CAAC;IACxB;AAEJ;AAEA,uBAAuB;AACvB,uBAAuB;uCAER","debugId":null}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Documents/kiswah%20front/kiswah/src/apis/company-info.api.ts"],"sourcesContent":["import api from \"@/lib/api\";\r\n\r\nexport const getCompanyInfo = async () => {\r\n  const res = await api.get(\"/api/public/company-info\");\r\n  return res.data;\r\n};\r\n"],"names":[],"mappings":";;;AAAA;;AAEO,MAAM,iBAAiB;IAC5B,MAAM,MAAM,MAAM,iHAAA,CAAA,UAAG,CAAC,GAAG,CAAC;IAC1B,OAAO,IAAI,IAAI;AACjB","debugId":null}},
    {"offset": {"line": 258, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Documents/kiswah%20front/kiswah/src/store/slices/companyInfoSlice.ts"],"sourcesContent":["import { getCompanyInfo } from \"@/apis/company-info.api\";\r\nimport { CompanyInfoInterface } from \"@/lib/types\";\r\nimport { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\nexport const fetchCompanyInfo = createAsyncThunk(\r\n  \"companyInfo/fetch\",\r\n  getCompanyInfo\r\n);\r\n\r\ntype CompanyInfoState = {\r\n  data: CompanyInfoInterface | null;\r\n  status: \"idle\" | \"loading\" | \"succeeded\" | \"failed\";\r\n};\r\n\r\nconst initialState: CompanyInfoState = { data: null, status: \"idle\" };\r\n\r\nconst companyInfoSlice = createSlice({\r\n  name: \"companyInfo\",\r\n  initialState,\r\n  reducers: {},\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(fetchCompanyInfo.pending, (state) => {\r\n        state.status = \"loading\";\r\n      })\r\n      .addCase(fetchCompanyInfo.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n        state.data = action.payload;\r\n      })\r\n      .addCase(fetchCompanyInfo.rejected, (state) => {\r\n        state.status = \"failed\";\r\n      });\r\n  },\r\n});\r\n\r\nexport default companyInfoSlice.reducer;\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAEO,MAAM,mBAAmB,CAAA,GAAA,kSAAA,CAAA,mBAAgB,AAAD,EAC7C,qBACA,qIAAA,CAAA,iBAAc;AAQhB,MAAM,eAAiC;IAAE,MAAM;IAAM,QAAQ;AAAO;AAEpE,MAAM,mBAAmB,CAAA,GAAA,kSAAA,CAAA,cAAW,AAAD,EAAE;IACnC,MAAM;IACN;IACA,UAAU,CAAC;IACX,eAAe,CAAC;QACd,QACG,OAAO,CAAC,iBAAiB,OAAO,EAAE,CAAC;YAClC,MAAM,MAAM,GAAG;QACjB,GACC,OAAO,CAAC,iBAAiB,SAAS,EAAE,CAAC,OAAO;YAC3C,MAAM,MAAM,GAAG;YACf,MAAM,IAAI,GAAG,OAAO,OAAO;QAC7B,GACC,OAAO,CAAC,iBAAiB,QAAQ,EAAE,CAAC;YACnC,MAAM,MAAM,GAAG;QACjB;IACJ;AACF;uCAEe,iBAAiB,OAAO","debugId":null}},
    {"offset": {"line": 291, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Documents/kiswah%20front/kiswah/src/store/hooks.ts"],"sourcesContent":["import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\r\nimport type { RootState, AppDispatch } from \"./store\";\r\n\r\nexport const useAppDispatch: () => AppDispatch = useDispatch;\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n"],"names":[],"mappings":";;;;AAAA;;AAGO,MAAM,iBAAoC,qQAAA,CAAA,cAAW;AACrD,MAAM,iBAAkD,qQAAA,CAAA,cAAW","debugId":null}},
    {"offset": {"line": 303, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Documents/kiswah%20front/kiswah/src/app/providers.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"@/store/store\";\r\nimport { useEffect } from \"react\";\r\nimport { fetchCompanyInfo } from \"@/store/slices/companyInfoSlice\";\r\nimport { useAppDispatch } from \"@/store/hooks\";\r\n\r\nfunction CompanyInfoInitializer() {\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchCompanyInfo());\r\n  }, [dispatch]);\r\n\r\n  return null; // invisible, just triggers fetch\r\n}\r\n\r\nexport default function CompanyInfoProviders({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  return (\r\n    <Provider store={store}>\r\n      <CompanyInfoInitializer />\r\n      {children}\r\n    </Provider>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQA,SAAS;IACP,MAAM,WAAW,CAAA,GAAA,qHAAA,CAAA,iBAAc,AAAD;IAE9B,CAAA,GAAA,oUAAA,CAAA,YAAS,AAAD,EAAE;QACR,SAAS,CAAA,GAAA,0IAAA,CAAA,mBAAgB,AAAD;IAC1B,GAAG;QAAC;KAAS;IAEb,OAAO,MAAM,iCAAiC;AAChD;AAEe,SAAS,qBAAqB,EAC3C,QAAQ,EAGT;IACC,qBACE,6WAAC,qQAAA,CAAA,WAAQ;QAAC,OAAO,qHAAA,CAAA,UAAK;;0BACpB,6WAAC;;;;;YACA;;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 349, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Documents/kiswah%20front/kiswah/src/app/query-provider.tsx"],"sourcesContent":["\"use client\";\r\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\r\nimport { ReactNode, useState } from \"react\";\r\n\r\nexport default function QueryProvider({ children }: { children: ReactNode }) {\r\n  const [client] = useState(() => new QueryClient());\r\n  return <QueryClientProvider client={client}>{children}</QueryClientProvider>;\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AAAA;AACA;AAFA;;;;AAIe,SAAS,cAAc,EAAE,QAAQ,EAA2B;IACzE,MAAM,CAAC,OAAO,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE,IAAM,IAAI,sPAAA,CAAA,cAAW;IAC/C,qBAAO,6WAAC,sRAAA,CAAA,sBAAmB;QAAC,QAAQ;kBAAS;;;;;;AAC/C","debugId":null}}]
}